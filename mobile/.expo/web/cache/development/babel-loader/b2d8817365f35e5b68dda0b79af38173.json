{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { Background } from \"../../components/Background\";\nimport { styles } from \"./styles\";\nimport { Entypo } from \"@expo/vector-icons\";\nimport { THEME } from \"../../theme\";\nimport logoImg from \"../../assets/logo-nlw-esports.png\";\nimport { Heading } from \"../../components/Heading\";\nimport { DuoCard } from \"../../components/DuoCard\";\nimport { DuoMatch } from \"../../components/DuoMatch\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var Game = function Game() {\n  var navigation = useNavigation();\n  var route = useRoute();\n  var game = route.params;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      duos = _useState2[0],\n      setDuos = _useState2[1];\n\n  var _useState3 = useState('xx'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      discordDuoSelected = _useState4[0],\n      setDiscordDuoSelected = _useState4[1];\n\n  function handleGoBack() {\n    navigation.goBack();\n  }\n\n  function getDiscordUser(_x) {\n    return _getDiscordUser.apply(this, arguments);\n  }\n\n  function _getDiscordUser() {\n    _getDiscordUser = _asyncToGenerator(function* (adsId) {\n      fetch(\"http://192.168.100.70:3333/ads/\" + adsId + \"/discord\").then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        return setDiscordDuoSelected(data);\n      });\n    });\n    return _getDiscordUser.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    fetch(\"http://192.168.100.70:3333/games/\" + game.id + \"/ads\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return setDuos(data);\n    });\n  }, []);\n  return _jsx(Background, {\n    children: _jsxs(SafeAreaView, {\n      style: styles.container,\n      children: [_jsxs(View, {\n        style: styles.header,\n        children: [_jsx(TouchableOpacity, {\n          onPress: handleGoBack,\n          children: _jsx(Entypo, {\n            name: \"chevron-thin-left\",\n            color: THEME.COLORS.CAPTION_300,\n            size: 20\n          })\n        }), _jsx(Image, {\n          source: logoImg,\n          style: styles.logo\n        }), _jsx(View, {\n          style: styles.right\n        })]\n      }), _jsx(Image, {\n        source: {\n          uri: game.bannerUrl\n        },\n        style: styles.cover,\n        resizeMode: \"cover\"\n      }), _jsx(Heading, {\n        title: game.title,\n        subtitle: \"Conecte-se e comece a jogar!\"\n      }), _jsx(FlatList, {\n        data: duos,\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _jsx(DuoCard, {\n            data: item,\n            onConnect: function onConnect() {\n              return getDiscordUser(item.id);\n            }\n          });\n        },\n        horizontal: true,\n        style: styles.containerList,\n        contentContainerStyle: [duos.length > 0 ? styles.contentList : styles.emptyListContent],\n        showsHorizontalScrollIndicator: false,\n        ListEmptyComponent: function ListEmptyComponent() {\n          return _jsx(Text, {\n            style: styles.emptyListText,\n            children: \"N\\xE3o h\\xE1 an\\xFAncios publicados ainda.\"\n          });\n        }\n      }), _jsx(DuoMatch, {\n        visible: discordDuoSelected.length > 0,\n        discord: discordDuoSelected,\n        onClose: function onClose() {\n          return setDiscordDuoSelected('');\n        }\n      })]\n    })\n  });\n};","map":{"version":3,"names":["useEffect","useState","useNavigation","useRoute","SafeAreaView","Background","styles","Entypo","THEME","logoImg","Heading","DuoCard","DuoMatch","Game","navigation","route","game","params","duos","setDuos","discordDuoSelected","setDiscordDuoSelected","handleGoBack","goBack","getDiscordUser","adsId","fetch","then","response","json","data","id","container","header","COLORS","CAPTION_300","logo","right","uri","bannerUrl","cover","title","item","containerList","length","contentList","emptyListContent","emptyListText"],"sources":["/home/arthur/Documents/nlw/mobile/src/screens/Games/index.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { useNavigation, useRoute } from \"@react-navigation/native\"\nimport { FlatList, Image, Text, TouchableOpacity, View } from \"react-native\"\nimport { SafeAreaView } from \"react-native-safe-area-context\"\nimport { GameParams } from \"../../@types/navigation\"\nimport { Background } from \"../../components/Background\"\nimport { styles } from \"./styles\"\nimport { Entypo } from \"@expo/vector-icons\"\nimport { THEME } from \"../../theme\"\nimport logoImg from \"../../assets/logo-nlw-esports.png\"\nimport { Heading } from \"../../components/Heading\"\nimport { DuoCard, DuoCardProps } from \"../../components/DuoCard\"\nimport { DuoMatch } from \"../../components/DuoMatch\"\n\nexport const Game = () => {\n    const navigation = useNavigation();\n    const route = useRoute();\n    const game = route.params as GameParams;\n    const [duos, setDuos] = useState<DuoCardProps[]>([]);\n    const [discordDuoSelected, setDiscordDuoSelected] = useState('xx')\n\n    function handleGoBack() {\n        navigation.goBack();\n    }\n\n    async function getDiscordUser(adsId: string) {\n        fetch(`http://192.168.100.70:3333/ads/${adsId}/discord`)\n            .then(response => response.json())\n            .then(data => setDiscordDuoSelected(data));\n    }\n\n    useEffect(() => {\n        fetch(`http://192.168.100.70:3333/games/${game.id}/ads`)\n            .then(response => response.json())\n            .then(data => setDuos(data))\n    }, []);\n\n    return (\n        <Background>\n            <SafeAreaView style={styles.container}>\n                <View style={styles.header}>\n                    <TouchableOpacity onPress={handleGoBack}>\n                        <Entypo\n                            name=\"chevron-thin-left\"\n                            color={THEME.COLORS.CAPTION_300}\n                            size={20}\n                        />\n                    </TouchableOpacity>\n                    <Image\n                        source={logoImg}\n                        style={styles.logo}\n                    />\n                    <View style={styles.right} />\n                </View>\n\n                <Image\n                    source={{ uri: game.bannerUrl }}\n                    style={styles.cover}\n                    resizeMode=\"cover\"\n                />\n\n                <Heading\n                    title={game.title}\n                    subtitle=\"Conecte-se e comece a jogar!\"\n                />\n\n                <FlatList\n                    data={duos}\n                    keyExtractor={item => item.id}\n                    renderItem={({ item }) => (\n                        <DuoCard\n                            data={item}\n                            onConnect={() => getDiscordUser(item.id)}\n                        />\n                    )}\n                    horizontal\n                    style={styles.containerList}\n                    contentContainerStyle={[duos.length > 0 ? styles.contentList : styles.emptyListContent]}\n                    showsHorizontalScrollIndicator={false}\n                    ListEmptyComponent={() => (\n                        <Text style={styles.emptyListText}>\n                            Não há anúncios publicados ainda.\n                        </Text>\n                    )}\n                />\n\n                <DuoMatch\n                    visible={discordDuoSelected.length > 0}\n                    discord={discordDuoSelected}\n                    onClose={() => setDiscordDuoSelected('')}\n                />\n            </SafeAreaView>\n        </Background>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}